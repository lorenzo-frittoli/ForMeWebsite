{% extends "layout.html" %}

{% block title %}
    Le Nostre Attività
{% endblock %}

{% set max_description_length = 96 %}

{% block main %}
    <h1 style="margin-bottom: 3rem;">Attività</h1>
    <div id="activity-cards-container">
        {% for activity in activities %}
            <a class="activity-card-wrapper" href="/activity?id={{ activity.id }}">
                <div class="card mx-auto mb-4">
                    <p class="card-header">
                        {% if activity.length > 1 %}
                            {{ activity.length }} Moduli
                        {% else %}
                            1 Modulo                                
                        {% endif %}
                    </p>
                    <img class="card-img-top" style="height: 10rem; object-fit: contain;" src="{{ activity.image }}">
                    <div class="card-body">
                        <h5 class="card-title">{{ activity.title }}</h5>
                        <h6 class="card-subtitle mb-2 text-muted">{{ activity.type }}</h6>

                        {% if activity.description|length <= max_description_length %}
                            <p class="card-text" style="overflow: hidden; max-height: 2rem;">{{ activity.description }}</p>
                        {% else %}
                            <p class="card-text">{{ activity.description[:max_description_length-4] }}...</p>                                
                        {% endif %}
                        
                        {% if activity.booked|length%}
                            <div class="card-text" style="background: rgb(184, 242, 255); border: 2px solid #0d6efd; border-radius: 5px; margin-bottom: 10px">
                                Prenotazione: <br> {{ activity.booked }}
                            </div>
                        {% endif %}
                    </div>
                </div>
            </a>
        {% endfor %}
    </div>
{% endblock %}



